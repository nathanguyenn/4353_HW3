function cov_1le8ucbkei(){var path="C:\\Users\\loudy\\Documents\\GitHub\\4353_HW3\\server\\services\\fuelQuoteService.js";var hash="c10dd586353ccb8967558bbd7f99826bfa2f1aca";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\loudy\\Documents\\GitHub\\4353_HW3\\server\\services\\fuelQuoteService.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:24}},"1":{start:{line:2,column:13},end:{line:2,column:28}},"2":{start:{line:3,column:20},end:{line:3,column:44}},"3":{start:{line:5,column:17},end:{line:5,column:44}},"4":{start:{line:6,column:18},end:{line:6,column:46}},"5":{start:{line:7,column:11},end:{line:7,column:32}},"6":{start:{line:8,column:0},end:{line:8,column:36}},"7":{start:{line:19,column:20},end:{line:23,column:5}},"8":{start:{line:25,column:33},end:{line:25,column:63}},"9":{start:{line:26,column:17},end:{line:26,column:31}},"10":{start:{line:27,column:33},end:{line:27,column:63}},"11":{start:{line:28,column:21},end:{line:28,column:39}},"12":{start:{line:31,column:6},end:{line:31,column:166}},"13":{start:{line:32,column:15},end:{line:41,column:5}},"14":{start:{line:42,column:4},end:{line:44,column:7}},"15":{start:{line:43,column:6},end:{line:43,column:25}},"16":{start:{line:43,column:15},end:{line:43,column:25}},"17":{start:{line:46,column:14},end:{line:49,column:5}},"18":{start:{line:50,column:4},end:{line:50,column:15}},"19":{start:{line:54,column:0},end:{line:54,column:34}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:18,column:4},end:{line:51,column:3}},line:18},"1":{name:"(anonymous_1)",decl:{start:{line:42,column:26},end:{line:42,column:27}},loc:{start:{line:42,column:49},end:{line:44,column:5}},line:42}},branchMap:{"0":{loc:{start:{line:43,column:6},end:{line:43,column:25}},type:"if",locations:[{start:{line:43,column:6},end:{line:43,column:25}},{start:{line:43,column:6},end:{line:43,column:25}}],line:43}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c10dd586353ccb8967558bbd7f99826bfa2f1aca"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1le8ucbkei=function(){return actualCoverage;};}return actualCoverage;}cov_1le8ucbkei();const fs=(cov_1le8ucbkei().s[0]++,require("fs"));const util=(cov_1le8ucbkei().s[1]++,require("util"));const priceModule=(cov_1le8ucbkei().s[2]++,require("./priceModule"));const readFile=(cov_1le8ucbkei().s[3]++,util.promisify(fs.readFile));const writeFile=(cov_1le8ucbkei().s[4]++,util.promisify(fs.writeFile));const db=(cov_1le8ucbkei().s[5]++,require("./database"));cov_1le8ucbkei().s[6]++;db.query=util.promisify(db.query);class fuelQuoteService{async addEntry(hist_factor,in_state,user,gallonsRequested,address,deliveryDate){cov_1le8ucbkei().f[0]++;const pricing=(cov_1le8ucbkei().s[7]++,priceModule.calculate(gallonsRequested,in_state,hist_factor));let internalPricePerGallon=(cov_1le8ucbkei().s[8]++,pricing.internalPricePerGallon);let profit=(cov_1le8ucbkei().s[9]++,pricing.profit);let customerPricePerGallon=(cov_1le8ucbkei().s[10]++,pricing.customerPricePerGallon);let totalPrice=(cov_1le8ucbkei().s[11]++,pricing.totalPrice);var sql=(cov_1le8ucbkei().s[12]++,"INSERT INTO fuelQuotes (user, gallons_requested, internal_price_per_gallon, profit, customer_price_per_gallon, total_price, delivery_date, address) VALUES (?)");var info=(cov_1le8ucbkei().s[13]++,[user,gallonsRequested,internalPricePerGallon,profit,customerPricePerGallon,totalPrice,deliveryDate,address]);cov_1le8ucbkei().s[14]++;db.query(sql,[info],function(err,result){cov_1le8ucbkei().f[1]++;cov_1le8ucbkei().s[15]++;if(err){cov_1le8ucbkei().b[0][0]++;cov_1le8ucbkei().s[16]++;throw err;}else{cov_1le8ucbkei().b[0][1]++;}});let obj=(cov_1le8ucbkei().s[17]++,{customerPricePerGallon:customerPricePerGallon,totalPrice:totalPrice});cov_1le8ucbkei().s[18]++;return obj;}}cov_1le8ucbkei().s[19]++;module.exports=fuelQuoteService;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ1ZWxRdW90ZVNlcnZpY2UuanMiXSwibmFtZXMiOlsiZnMiLCJyZXF1aXJlIiwidXRpbCIsInByaWNlTW9kdWxlIiwicmVhZEZpbGUiLCJwcm9taXNpZnkiLCJ3cml0ZUZpbGUiLCJkYiIsInF1ZXJ5IiwiZnVlbFF1b3RlU2VydmljZSIsImFkZEVudHJ5IiwiaGlzdF9mYWN0b3IiLCJpbl9zdGF0ZSIsInVzZXIiLCJnYWxsb25zUmVxdWVzdGVkIiwiYWRkcmVzcyIsImRlbGl2ZXJ5RGF0ZSIsInByaWNpbmciLCJjYWxjdWxhdGUiLCJpbnRlcm5hbFByaWNlUGVyR2FsbG9uIiwicHJvZml0IiwiY3VzdG9tZXJQcmljZVBlckdhbGxvbiIsInRvdGFsUHJpY2UiLCJzcWwiLCJpbmZvIiwiZXJyIiwicmVzdWx0Iiwib2JqIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6ImkyRUFlWTsyRkFmWixLQUFNQSxDQUFBQSxFQUFFLDBCQUFHQyxPQUFPLENBQUMsSUFBRCxDQUFWLENBQVIsQ0FDQSxLQUFNQyxDQUFBQSxJQUFJLDBCQUFHRCxPQUFPLENBQUMsTUFBRCxDQUFWLENBQVYsQ0FDQSxLQUFNRSxDQUFBQSxXQUFXLDBCQUFHRixPQUFPLENBQUMsZUFBRCxDQUFWLENBQWpCLENBRUEsS0FBTUcsQ0FBQUEsUUFBUSwwQkFBR0YsSUFBSSxDQUFDRyxTQUFMLENBQWVMLEVBQUUsQ0FBQ0ksUUFBbEIsQ0FBSCxDQUFkLENBQ0EsS0FBTUUsQ0FBQUEsU0FBUywwQkFBR0osSUFBSSxDQUFDRyxTQUFMLENBQWVMLEVBQUUsQ0FBQ00sU0FBbEIsQ0FBSCxDQUFmLENBQ0EsS0FBTUMsQ0FBQUEsRUFBRSwwQkFBR04sT0FBTyxDQUFDLFlBQUQsQ0FBVixDQUFSLEMsd0JBQ0FNLEVBQUUsQ0FBQ0MsS0FBSCxDQUFXTixJQUFJLENBQUNHLFNBQUwsQ0FBZUUsRUFBRSxDQUFDQyxLQUFsQixDQUFYLENBRUEsS0FBTUMsQ0FBQUEsZ0JBQWlCLENBQ1AsS0FBUkMsQ0FBQUEsUUFBUSxDQUNaQyxXQURZLENBRVpDLFFBRlksQ0FHWkMsSUFIWSxDQUlaQyxnQkFKWSxDQUtaQyxPQUxZLENBTVpDLFlBTlksQ0FPWix5QkFDQSxLQUFNQyxDQUFBQSxPQUFPLDBCQUFHZCxXQUFXLENBQUNlLFNBQVosQ0FDZEosZ0JBRGMsQ0FFZEYsUUFGYyxDQUdkRCxXQUhjLENBQUgsQ0FBYixDQU1BLEdBQUlRLENBQUFBLHNCQUFzQiwwQkFBR0YsT0FBTyxDQUFDRSxzQkFBWCxDQUExQixDQUNBLEdBQUlDLENBQUFBLE1BQU0sMEJBQUdILE9BQU8sQ0FBQ0csTUFBWCxDQUFWLENBQ0EsR0FBSUMsQ0FBQUEsc0JBQXNCLDJCQUFHSixPQUFPLENBQUNJLHNCQUFYLENBQTFCLENBQ0EsR0FBSUMsQ0FBQUEsVUFBVSwyQkFBR0wsT0FBTyxDQUFDSyxVQUFYLENBQWQsQ0FFQSxHQUFJQyxDQUFBQSxHQUFHLDJCQUNMLGdLQURLLENBQVAsQ0FFQSxHQUFJQyxDQUFBQSxJQUFJLDJCQUFHLENBQ1RYLElBRFMsQ0FFVEMsZ0JBRlMsQ0FHVEssc0JBSFMsQ0FJVEMsTUFKUyxDQUtUQyxzQkFMUyxDQU1UQyxVQU5TLENBT1ROLFlBUFMsQ0FRVEQsT0FSUyxDQUFILENBQVIsQ0FkQSx5QkF3QkFSLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTZSxHQUFULENBQWMsQ0FBQ0MsSUFBRCxDQUFkLENBQXNCLFNBQVVDLEdBQVYsQ0FBZUMsTUFBZixDQUF1QixrREFDM0MsR0FBSUQsR0FBSixDQUFTLDBEQUFNQSxDQUFBQSxHQUFOLENBQVUsQ0FBbkIsaUNBQ0QsQ0FGRCxFQUlBLEdBQUlFLENBQUFBLEdBQUcsMkJBQUcsQ0FDUk4sc0JBQXNCLENBQUVBLHNCQURoQixDQUVSQyxVQUFVLENBQUVBLFVBRkosQ0FBSCxDQUFQLENBNUJBLHlCQWdDQSxNQUFPSyxDQUFBQSxHQUFQLENBQ0QsQ0F6Q29CLEMseUJBNEN2QkMsTUFBTSxDQUFDQyxPQUFQLENBQWlCcEIsZ0JBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XHJcbmNvbnN0IHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcclxuY29uc3QgcHJpY2VNb2R1bGUgPSByZXF1aXJlKFwiLi9wcmljZU1vZHVsZVwiKTtcclxuXHJcbmNvbnN0IHJlYWRGaWxlID0gdXRpbC5wcm9taXNpZnkoZnMucmVhZEZpbGUpO1xyXG5jb25zdCB3cml0ZUZpbGUgPSB1dGlsLnByb21pc2lmeShmcy53cml0ZUZpbGUpO1xyXG5jb25zdCBkYiA9IHJlcXVpcmUoXCIuL2RhdGFiYXNlXCIpO1xyXG5kYi5xdWVyeSA9IHV0aWwucHJvbWlzaWZ5KGRiLnF1ZXJ5KTtcclxuXHJcbmNsYXNzIGZ1ZWxRdW90ZVNlcnZpY2Uge1xyXG4gIGFzeW5jIGFkZEVudHJ5KFxyXG4gICAgaGlzdF9mYWN0b3IsXHJcbiAgICBpbl9zdGF0ZSxcclxuICAgIHVzZXIsXHJcbiAgICBnYWxsb25zUmVxdWVzdGVkLFxyXG4gICAgYWRkcmVzcyxcclxuICAgIGRlbGl2ZXJ5RGF0ZVxyXG4gICkge1xyXG4gICAgY29uc3QgcHJpY2luZyA9IHByaWNlTW9kdWxlLmNhbGN1bGF0ZShcclxuICAgICAgZ2FsbG9uc1JlcXVlc3RlZCxcclxuICAgICAgaW5fc3RhdGUsXHJcbiAgICAgIGhpc3RfZmFjdG9yXHJcbiAgICApO1xyXG5cclxuICAgIGxldCBpbnRlcm5hbFByaWNlUGVyR2FsbG9uID0gcHJpY2luZy5pbnRlcm5hbFByaWNlUGVyR2FsbG9uO1xyXG4gICAgbGV0IHByb2ZpdCA9IHByaWNpbmcucHJvZml0O1xyXG4gICAgbGV0IGN1c3RvbWVyUHJpY2VQZXJHYWxsb24gPSBwcmljaW5nLmN1c3RvbWVyUHJpY2VQZXJHYWxsb247XHJcbiAgICBsZXQgdG90YWxQcmljZSA9IHByaWNpbmcudG90YWxQcmljZTtcclxuXHJcbiAgICB2YXIgc3FsID1cclxuICAgICAgXCJJTlNFUlQgSU5UTyBmdWVsUXVvdGVzICh1c2VyLCBnYWxsb25zX3JlcXVlc3RlZCwgaW50ZXJuYWxfcHJpY2VfcGVyX2dhbGxvbiwgcHJvZml0LCBjdXN0b21lcl9wcmljZV9wZXJfZ2FsbG9uLCB0b3RhbF9wcmljZSwgZGVsaXZlcnlfZGF0ZSwgYWRkcmVzcykgVkFMVUVTICg/KVwiO1xyXG4gICAgdmFyIGluZm8gPSBbXHJcbiAgICAgIHVzZXIsXHJcbiAgICAgIGdhbGxvbnNSZXF1ZXN0ZWQsXHJcbiAgICAgIGludGVybmFsUHJpY2VQZXJHYWxsb24sXHJcbiAgICAgIHByb2ZpdCxcclxuICAgICAgY3VzdG9tZXJQcmljZVBlckdhbGxvbixcclxuICAgICAgdG90YWxQcmljZSxcclxuICAgICAgZGVsaXZlcnlEYXRlLFxyXG4gICAgICBhZGRyZXNzLFxyXG4gICAgXTtcclxuICAgIGRiLnF1ZXJ5KHNxbCwgW2luZm9dLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcclxuICAgICAgaWYgKGVycikgdGhyb3cgZXJyO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IG9iaiA9IHtcclxuICAgICAgY3VzdG9tZXJQcmljZVBlckdhbGxvbjogY3VzdG9tZXJQcmljZVBlckdhbGxvbixcclxuICAgICAgdG90YWxQcmljZTogdG90YWxQcmljZSxcclxuICAgIH07XHJcbiAgICByZXR1cm4gb2JqO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdWVsUXVvdGVTZXJ2aWNlO1xyXG4iXX0=